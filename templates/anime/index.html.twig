{% extends 'base.html.twig' %}

{% block title %}Lista de Animes{% endblock %}

{% block body %}
    <div class="max-w-7xl mx-auto px-4 py-10">

        <h1 class="text-5xl font-bold mb-8">Animes</h1>

        <!-- Buscador -->
        <form method="get" class="mb-6 flex gap-4">
            <input type="text" name="search" value="{{ search }}" placeholder="Buscar anime..."
                   class="px-4 py-2 border rounded-lg flex-1">
            <select name="order" class="px-4 py-2 border rounded-lg">
                <option value="name" {% if order == 'name' %}selected{% endif %}>Ordenar por nombre</option>
                <option value="rating" {% if order == 'rating' %}selected{% endif %}>Ordenar por puntuaci√≥n</option>
            </select>
            <button type="submit"
                    class="px-4 py-2 bg-violet-500 hover:bg-violet-600 text-white rounded-lg shadow">Filtrar
            </button>
        </form>

        {% if animes is empty %}
            <p>No hay animes disponibles</p>
        {% else %}
            <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
                {% for anime in animes %}
                    <div class="bg-violet-300 rounded-xl shadow-xl hover:bg-violet-200 transition overflow-hidden">
                        {% if anime.imagen %}
                            <a href="{{ path('app_anime_show', {'id': anime.id}) }}">
                                <img src="{{ anime.imagen }}" alt="{{ anime.titulo }}"
                                     class="w-full h-60 object-cover">
                            </a>
                        {% endif %}
                        <div class="p-4">
                            <a href="{{ path('app_anime_show', {'id': anime.id}) }}"
                               class="text-lg font-semibold text-gray-900">{{ anime.titulo }}</a>
                        </div>
                    </div>
                {% endfor %}
            </div>
        {% endif %}

    </div>
{% endblock %}
