{% extends 'base.html.twig' %}

{% block title %}Opiniones de {{ user.email }}{% endblock %}

{% block body %}
    <div class="container mx-auto px-6 py-12">

        <h1 class="text-4xl font-extrabold text-gray-900 mb-10 text-center">
            Opiniones de {{ user.email }}
        </h1>

        {% if opinions is not empty %}
            <div class="space-y-6">

                {% for opinion in opinions %}
                    <div class="bg-white border border-violet-300 rounded-xl shadow-md p-6 hover:shadow-lg transition">

                        <div class="flex items-center gap-4 mb-4">
                            <div class="w-16 h-16 rounded-lg overflow-hidden shadow">
                                <img src="{{ opinion.anime.imagen }}"
                                     alt="{{ opinion.anime.titulo }}"
                                     class="w-full h-full object-cover">
                            </div>

                            <div>
                                <h2 class="text-xl font-semibold text-gray-900">
                                    {{ opinion.anime.titulo }}
                                </h2>
                                <p class="text-violet-700 font-medium">
                                    {{ opinion.puntuacion }}★
                                </p>
                            </div>
                        </div>

                        <p class="text-gray-700">
                            <span class="font-semibold">Comentario:</span>
                            {{ opinion.texto ?: 'Sin comentario' }}
                        </p>

                    </div>
                {% endfor %}

            </div>
        {% else %}
            <p class="text-gray-600 text-center">Este usuario no ha dado opiniones todavía.</p>
        {% endif %}

        <div class="text-center mt-10">
            <a href="{{ path('app_admin') }}"
               class="px-6 py-3 bg-gray-700 hover:bg-gray-800 text-white rounded-lg shadow transition">
                Volver al panel de administración
            </a>
        </div>

    </div>
{% endblock %}
